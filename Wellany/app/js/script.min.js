"use strict";window.addEventListener("DOMContentLoaded",(function(){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),svg4everybody();var e,t,s,o,r,a,n,i,l,c,d,u,p;new LazyLoad({elements_selector:".lazy"});$(".preload").delay(1e3).fadeOut("slow"),$(".nav__link, .header__logo").click((function(){var e=$(".header__top").innerHeight(),t=$(this).attr("href");event.preventDefault(),$(".preload").fadeIn("slow"),setTimeout((function(){$("html, body").animate({scrollTop:$(t).offset().top-e},500,(function(){$(".header__hamburger").removeClass("cross"),$(".header__search").removeClass("show"),$(".header__search").addClass("hide"),$(".preload").fadeOut("slow")}))}),500),$(".nav__link").removeClass("active"),$(this).addClass("active")})),$(".header__slider").slick({autoplay:!0,infinite:!0,fade:!0,dots:!0,useCSS:!1,prevArrow:'<svg class="header__arrow slick-arrow slick-arrow--left"><use xlink:href="img/svg/sprite/sprite.svg#left-arrow-angle"></use></svg>',nextArrow:'<svg class="header__arrow slick-arrow slick-arrow--right"><use xlink:href="img/svg/sprite/sprite.svg#right-arrow-angle"></use></svg>',responsive:[{breakpoint:767.98,settings:{arrows:!1}},{breakpoint:575.98,settings:{arrows:!1}}]}),$(".posts__slider").slick({centerMode:!0,centerPadding:"0px",initialSlide:1,slidesToShow:3,slidesToScroll:1,dots:!0,prevArrow:'<svg class="posts__arrows posts__arrows--prev"><use xlink:href="img/svg/sprite/sprite.svg#arrow-posts-left"></use></svg>',nextArrow:'<svg class="posts__arrows posts__arrows--next"><use xlink:href="img/svg/sprite/sprite.svg#arrow-posts-right"></use></svg>',responsive:[{breakpoint:1199,settings:{slidesToShow:2,dots:!1}},{breakpoint:991.98,settings:{dots:!1,slidesToShow:2}},{breakpoint:767.98,settings:{slidesToShow:1,arrows:!1}},{breakpoint:575.98,settings:{slidesToShow:1,arrows:!1}}]}),$(window).scroll((function(){$(this).scrollTop()>$(this).height()?$(".arrow").addClass("arrow__active"):$(".arrow").removeClass("arrow__active")})),$(".arrow").click((function(){$("html, body").stop().animate({scrollTop:0},"slow","swing")})),e=document.querySelector(".header__top"),t=document.querySelector(".header__hamburger"),s=document.querySelector(".site-overlay"),document.body.addEventListener("click",(function(e){t.classList.contains("cross")&&e.target===s&&t.classList.remove("cross")})),t.addEventListener("click",(function(){e.classList.add("header__top-color"),this.classList.toggle("cross")})),o=document.querySelector(".search__link"),r=document.querySelector(".header__search"),o.addEventListener("click",(function(e){e.preventDefault(),r.classList.contains("hide")?(r.classList.remove("hide"),r.classList.add("show")):(r.classList.remove("show"),r.classList.add("hide"))})),function(){var e=document.querySelector(".header__top");window.addEventListener("scroll",(function(){document.documentElement.scrollTop>0||window.pageYOffset>0||document.body.classList.contains("pushy-open-left")?e.classList.add("header__top-color"):e.classList.remove("header__top-color")}))}(),a=document.querySelector(".form__close"),n=document.querySelector(".modal"),i=document.querySelector(".header__content-btn"),l=document.querySelector(".purchase__btn"),document.body.addEventListener("click",(function(e){e.target!=i&&e.target!=l||(n.classList.add("fade"),document.body.style.overflow="hidden",setTimeout((function(){n.classList.remove("fadeOut"),n.style.display="flex"}),100))})),a.addEventListener("click",(function(){n.classList.add("fadeOut"),document.body.style.overflow="",setTimeout((function(){n.classList.remove("fade"),n.style.display="none"}),2500)})),function(){var e=document.querySelectorAll(".projects__link"),t=document.querySelector(".projects__list"),s=document.querySelectorAll(".projects__block");function o(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=e;t<s.length;t++)s[t].classList.remove("show"),s[t].classList.add("hide")}o(),t.addEventListener("click",(function(t){if(t.target.classList.contains("projects__link")||event.target)for(var r=0;r<e.length;r++)if(t.target==e[r]){t.preventDefault(),o(0),s[a=r].classList.contains("hide")&&(s[a].classList.remove("hide"),s[a].classList.add("show"));break}var a}))}(),function(){var e=document.querySelectorAll(".projects__btn"),t=document.querySelectorAll(".projects__load");function s(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=e;s<t.length;s++)t[s].classList.remove("show"),t[s].classList.add("hide")}document.querySelector(".projects"),s();for(var o=function(o){e[o].addEventListener("click",(function(r){var a;r.target==e[o]&&(r.preventDefault(),s(0),t[a=o].classList.contains("hide")&&(t[a].classList.remove("hide"),t[a].classList.add("show")))}))},r=0;r<e.length;r++)o(r)}(),c=document.querySelector(".presentation__video"),d=document.querySelector(".partners"),u=document.querySelectorAll(".projects-block__img"),p=document.querySelectorAll(".article__img"),Modernizr.on("webp",(function(e){if(e){c.setAttribute("data-poster","img/@1x/webp/pres.webp"),d.setAttribute("data-bg","url('img/@1x/webp/partners.webp')");for(var t=0;t<u.length;t++){var s=u[t].getAttribute("data-bg").replace(/@[12]x/,"$&/webp").replace(/png|jpg/,"webp");u[t].setAttribute("data-bg",s)}for(var o=0;o<p.length;o++){var r=p[o].getAttribute("data-bg").replace(/@[12]x/,"$&/webp").replace(/png|jpg/,"webp");p[o].setAttribute("data-bg",r)}}})),function(){var e=document.querySelector(".presentation__video"),t=document.getElementById("playBtn"),s=document.querySelector(".presentation__inner"),o=document.querySelector(".presentation__overlay");t.addEventListener("click",(function(){e.paused?(e.play(),o.style.display="none",e.setAttribute("controls","controls"),s.style.display="none"):(e.pause(),o.style.display="block",s.style.display="block")}),!1),e.addEventListener("ended",(function(){e.load(),o.style.display="block",e.removeAttribute("controls"),s.style.display="block"}),!1)}(),$(document).ready((function(){$(".modal__header").submit((function(){var e=$(this);return $.ajax({type:"POST",url:"mail.php",data:e.serialize()}).done((function(){$(e).find(".modal__success").addClass("modal__active").css("display","flex").hide().fadeIn(),setTimeout((function(){$(e).find(".modal__success").removeClass("modal__active").fadeOut(),e.trigger("reset")}),3e3)})),!1}))}));new Cleave('input[type="tel"]',{phone:!0,phoneRegionCode:"RU"})}));
//# sourceMappingURL=script.min.js.map
