{"version":3,"sources":["script.js"],"names":["window","addEventListener","NodeList","prototype","forEach","svg4everybody","objectFitImages","$","not","css","LazyLoad","elements_selector","document","on","toggleClass","slidesToShow","slick","slidesToScroll","asNavFor","nextArrow","infinite","autoplay","dots","arrows","focusOnSelect","responsive","breakpoint","settings","setHref","elem","source","each","_this","this","querySelectorAll","href","prop","Modernizr","supported","index","gallery","zoom","enabled","type","delegate","hide","i","eq","height","fadeIn","current","addClass","scrollTop","removeClass","ajax","stop","animate","url","find","setTimeout","form","data","serialize","done","fadeOut","trigger"],"mappings":"aAAAA,OAAOC,iBAAiB,oBAAoB,WAItCD,OAAOE,WAAaA,SAASC,UAAUC,UAA3CF,SAAWA,UAAPE,QAAoBF,MAASC,UAAUC,SAI3CC,gBAEAC,kBACAC,EAAE,OAAOC,IAAI,gBAAgBC,IAAI,cAAe,uBAI3B,IAAAC,SAAA,CADrBC,kBAIA,UAGCJ,EAFDK,UAKAC,GAAA,QAAA,eAAA,WAJEN,EAAE,QAAQO,YAAY,uBAStBC,EAAAA,mBAJyBC,MAAA,CAKzBC,MAAAA,EACAC,MAAAA,EAEAC,aAAW,EARbF,eAAA,EAWEC,SAAA,cACAE,UAAU,iIACVC,UAAU,qIAGVH,EAAAA,eAAUF,MAAA,CACVM,UAAM,EACNC,UAAQ,EACRR,aAAA,GACAS,eAAe,EACfC,SAAU,kBACNC,MAAAA,EACAC,QAAAA,EAAUH,eAAA,EAFDC,WAMX,CAAA,CACEC,WAAY,OACZC,SAAU,CACRZ,aAAc,IAIhBW,CACAC,WAAU,OACRZ,SAAAA,CADQA,aAAA,IAFZ,CAUAa,WAAU,OACZD,SAAA,CACIZ,aAAM,OAKJR,IAAAA,EAAEsB,SAAAA,GACAtB,EAAA,kBAAOuB,GAAAA,QAAM,WACdD,EAAAE,MAFD,WAAA,IAAAC,EAAAC,KADFH,EAAAG,KAAAC,iBAAA,kBADIC,EAAO,SAAAC,GAQbC,EAAAA,GAAAA,KAAa,yBAAQC,MAAa,SAAAC,EAAAV,GAChCS,EAAAA,GAAAA,KAAYH,QAAK,WADnB,OAAAL,EAAAS,GAAAH,UAMNR,UAAUf,GAAA,QAAA,SAAAyB,GALUH,EAAZG,EAAiB,aAAqB,iBAY1CE,EAAAA,EAAAA,oBAAShC,IAAA,YAGTiC,EAAAA,oBAAMV,MAAA,WACJW,EAAAA,MAAAA,cAAS,CADLC,KAAA,QANcC,SAAtB,IADFJ,QAYE,CAPIE,SAAS,GASXD,KAAA,CACEC,SAAA,QAFJnC,EAAE,oBAAoBC,IAAI,UAAUqC,OAUpCtC,EAAEP,mBAAFa,GAAuB,SAAA,SAAUiC,EAAAjB,GAC/BtB,EAAA,oBAAKsC,OAAwBE,GAADxC,EAAOyC,MAART,SAAmBU,OAAA,QAC5C1C,IAAE2C,EAAUC,EAAAA,oBAAZJ,GAAAxC,EAAA0B,MAAAM,SAGD,OAFAX,EAAMsB,IAEN,KAKD3C,EAAAA,QAAEM,GAAA,UAAF,WACEuC,EAAAA,MAAWA,YAAA7C,EAAA0B,MAAAe,SADbzC,EAEE,UAAO4C,SAFT,iBAKAvC,EAAAA,UAAFyC,YAAiB,oBAOf9C,EAAA,UAAUM,GAAK,SAAf,WACAN,EAAE+C,cAAKC,OAAAC,QAAA,CACLb,UAAM,GACNc,OAAK,YAGLlD,EAAAA,UAAQmD,KAAK,aAAA,QAAmBP,kBAAS,CACzCQ,SAAAA,oBAKDpD,EAAA,SAXDM,GAAA,UAAA,WAYA,IAAA+C,EAAArD,EAAA0B,MAAA,OAdF1B,EAAA+C,KAAA,CAtIFX,KAAA,OA0IMc,IAAK,WACLI,KAAMD,EAAKE,cACVC,MAAK,WACNxD,EAAEqD,GAAMF,KAAK,mBAAmBP,SAAS,iBAAiB1C,IAAI,UAAW,QAAQoC,OAAOI,SACxFU,YAAW,WAETpD,EAAEqD,GAAMF,KAAK,mBAAmBL,YAAY,iBAAiBW,UAC7DJ,EAAKK,QAAQ,WACZ,SAEE","file":"script.min.js","sourcesContent":["window.addEventListener('DOMContentLoaded', function () {\r\n  'use strict';\r\n\r\n  //forEach polyfill\r\n  if (window.NodeList && !NodeList.prototype.forEach) {\r\n    NodeList.prototype.forEach = Array.prototype.forEach;\r\n  }\r\n\r\n  svg4everybody();\r\n\r\n  objectFitImages();\r\n  $('img').not('[src$=\"svg\"]').css('font-family', \"'object-fit: cover'\");\r\n\r\n  //Lazyloading\r\n  const lazyLoadInstance = new LazyLoad({\r\n    elements_selector: \".lazy\"\r\n  });\r\n\r\n  //toggleMenu\r\n  $(document).on('click', '.close-menu', function () {\r\n    $('body').toggleClass('pushy-open-right');\r\n  });\r\n\r\n  \r\n  //Slick slider header\r\n  $('.header__slider').slick({\r\n    fade: true,\r\n    dots: false,\r\n    // useCSS: false,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    asNavFor: '.slider-nav',\r\n    prevArrow: '<svg class=\"header__slick-arrow header__slick-arrow--left\"><use xlink:href=\"img/svg/sprite/sprite.svg#left arrow\"></use></svg>',\r\n    nextArrow: '<svg class=\"header__slick-arrow header__slick-arrow--right\"><use xlink:href=\"img/svg/sprite/sprite.svg#right arrow\"></use></svg>',\r\n  });\r\n\r\n  $('.slider-nav').slick({\r\n    infinite: true,\r\n    autoplay: true,\r\n    slidesToShow: 10,\r\n    slidesToScroll: 1,\r\n    asNavFor: '.header__slider',\r\n    dots: false,\r\n    arrows: false,\r\n    // centerMode: true,\r\n    focusOnSelect: true,\r\n    responsive: [{\r\n        breakpoint: 991.98,\r\n        settings: {\r\n          slidesToShow: 5,\r\n        }\r\n      },\r\n      {\r\n        breakpoint: 767.98,\r\n        settings: {\r\n          slidesToShow: 3,\r\n        }\r\n      },\r\n      {\r\n        breakpoint: 575.98,\r\n        settings: {\r\n          slidesToShow: 2,\r\n        }\r\n      }\r\n    ]\r\n  });\r\n\r\n////set href. Magnific popup needs a href attribute in order to work.\r\nconst setHref = elem => {\r\n  $('.projects__img').on('load', function(){\r\n    elem.each(function(){\r\n      const source = this.querySelectorAll('.projects__img');\r\n  \r\n      const href = prop => {\r\n        $(this).find('.projects__block-link').each(function(index,elem){\r\n          $(elem).attr('href', function(){\r\n            return source[index][prop]\r\n          })\r\n        })\r\n      }\r\n  \r\n      Modernizr.on('webp', supported => {\r\n        supported ? href('currentSrc') : href('src')\r\n      }) \r\n    })\r\n  })\r\n}\r\nsetHref($('.projects__block').not(':hidden'));\r\n\r\n////Magnific popup init\r\n$('.projects__block').each(function(){\r\n  $(this).magnificPopup({\r\n    type: 'image',\r\n    delegate: 'a',\r\n    gallery: {\r\n      enabled: true\r\n    },\r\n    zoom: {\r\n      enabled: true\r\n    }\r\n  })\r\n})\r\n  ////Tabs\r\n  $(\".projects__block\").not(\":first\").hide();\r\n  $('.projects__item').on('click', function(i,elem){\r\n    $(\".projects__block\").hide().eq($(this).index()).fadeIn('fast');\r\n    const current = $('.projects__block').eq($(this).index());\r\n    setHref(current);\r\n\r\n    return false;\r\n  })\r\n \r\n  //toggle scrollTop btn\r\n  $(window).on('scroll', function(){\r\n    if ( $(this).scrollTop() > $(this).height() ) {\r\n      $('.arrow').addClass('arrow__active');\r\n    } else {\r\n      $('.arrow').removeClass('arrow__active');\r\n    }\r\n  })\r\n\r\n  //Scroll to top\r\n  $('.arrow').on('click', function(){\r\n    $('html, body').stop().animate({\r\n      scrollTop: 0\r\n    },'slow','swing');\r\n  })\r\n\r\n  $(document).pjax('.nav__link', '.logo', '.pjax-container', {\r\n    fragment: '.pjax-container'\r\n  });\r\n\r\n\r\n  //Ajax\r\n  $(\".form\").on('submit', function(){\r\n    const form = $(this);\r\n    $.ajax({\r\n      type: \"POST\",\r\n      url: \"mail.php\", \r\n      data: form.serialize()\r\n    }).done(function() {\r\n      $(form).find('.modal__success').addClass('modal__active').css('display', 'flex').hide().fadeIn();\r\n      setTimeout(function() {\r\n        // Done Functions\r\n        $(form).find('.modal__success').removeClass('modal__active').fadeOut();\r\n        form.trigger(\"reset\");\r\n      }, 3000);\r\n    });\r\n    return false;\r\n  })\r\n\r\n\r\n\r\n});"]}