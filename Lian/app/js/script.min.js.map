{"version":3,"sources":["script.js"],"names":["$","svg4everybody","objectFitImages","not","css","elements_selector","cancelBtn","cloneLogo","flag","range","progress","counter","next","random","newPath","LazyLoad","document","fadeIn","toggleClass","on","prepend","eq","clone","addClass","window","matchMedia","matches","find","children","is","filter","remove","after","fadeOut","fade","infinite","removeClass","val","speed","settings","slick","arrows","autoplay","preletrow","setInputRangeValue","each","style","i","elem","left","this","query","index","currentVal","hide","contentItem","append","innerHTML","relocateProjectItemsOnResize","slideToggle","click","event","off","getRandomInt","min","max","parentGrid","result","show","slidesToScroll","nextArrow","html","type","url","dataType","slidesToShow","href","title","class","concat","length","Math","floor","appendTo","getMoreContent","adaptiveHeight","fail","err","alert","videoEl","playBtn","display","pause","addEventListener","removeAttribute","videoInit","dots","sidebarSlide","bgWebpCheck","Modernizr","asNavFor","attr","querySelector","paused","videoPath","setAttribute","sidebarTabs","preventDefault","currentIndex","head","context","setTimeout","serialize","trigger","replace","mapWrap","parent","animate","scrollTop","offset","top","ajax","data","done","th"],"mappings":"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","file":"script.min.js","sourcesContent":["$(function () {\r\n\r\n    ////COMMON\r\n\r\n    svg4everybody();\r\n    objectFitImages();\r\n    $('img').not('[src$=\"svg\"]').css('font-family', \"'object-fit: cover'\");\r\n\r\n    let lazyLoadInstance = new LazyLoad({\r\n        elements_selector: \".lazy\"\r\n    });\r\n\r\n\r\n    $('.preloader__wrap').fadeIn(2000, function(){\r\n        $('.preloader').fadeOut(2000);\r\n    });\r\n\r\n    $(document).on('click', '.burger, .pushy__cancel', function () {\r\n        $('body').toggleClass('pushy-open-right');\r\n    });\r\n\r\n\r\n    function menu() {\r\n        let cancelBtn = $('<svg class=\"pushy__cancel\"><use xlink:href=\"images/svg/sprite/sprite.svg#cancel\"></use><svg>');\r\n        let cloneLogo = $('a.logo').eq(0).clone().addClass('copy');\r\n        let flag = 1;\r\n    \r\n        if (window.matchMedia('(max-width: 991.98px)').matches) {\r\n            $('.nav__list').prepend(cancelBtn,cloneLogo);\r\n        } \r\n    \r\n        $(window).on('resize',function(){\r\n            if (window.matchMedia('(max-width: 991.98px)').matches && flag === 1) { \r\n                if (!$('.pushy-content').find('.nav__list').children().eq(0).is('.pushy__cancel')) {\r\n                    $('.nav__list').prepend(cancelBtn,cloneLogo);\r\n                }\r\n                flag = 2;\r\n            }\r\n    \r\n            if (window.matchMedia('(min-width: 992px)').matches && flag === 2) {            \r\n               $('.pushy-content').find('.nav__list').children().filter(':eq(0), :eq(1)').remove();\r\n                flag = 1;\r\n            }\r\n        });\r\n    }\r\n    menu();\r\n\r\n\r\n    $('.search-input').after('<button class=\"search-input-cancel\"><svg class=\"search-input-cancel__icon\"><use xlink:href=\"images/svg/sprite/sprite.svg#cancel\"></use><svg></button>');\r\n\r\n    $('.search-btn').on('click', function(){\r\n        $('.search-input').addClass('slide');\r\n        $('.search-input-cancel').fadeIn('slow');\r\n    });\r\n    \r\n    $('.search-input-cancel').on('click', function(){\r\n        $('.search-input').removeClass('slide').val('');\r\n        $('.search-input-cancel').fadeOut('fast');\r\n    });\r\n\r\n\r\n    //// HOME\r\n\r\n    $('.slider').slick({\r\n        dots: true,\r\n        fade: true,\r\n        infinite: true,\r\n        speed: 500,\r\n        autoplay: true,\r\n        preletrow: '<svg class=\"slider__arrow  slider__arrow--left\"><use class=\"slider__arrow-icon-left\" xlink:href=\"images/svg/sprite/sprite.svg#arrow-left\"></use></svg>',\r\n        nextArrow: '<svg class=\"slider__arrow  slider__arrow--right\"><use class=\"slider__arrow-icon-right\" xlink:href=\"images/svg/sprite/sprite.svg#arrow-right\"></use></svg>',\r\n        responsive: [{\r\n            breakpoint: 479.98,\r\n            settings: {\r\n                arrows: false\r\n            }\r\n        }]\r\n    });\r\n\r\n\r\n\r\n    //// ABOUT\r\n\r\n    function setInputRangeValue() {\r\n        let range = $('.input-range');\r\n        let progress = $('.about__input-progress');\r\n    \r\n        range.each(function(i,elem){\r\n            progress[i].style.left = $(this).val() + '%';\r\n        });\r\n    \r\n        $('.input-range').on('input change', function () {\r\n            let index = range.index($(this));\r\n            let currentVal = $(this).val() + '%';\r\n    \r\n            progress[index].style.left = $(this).val() + '%';\r\n            progress.each(function (i, elem) {\r\n                if (i == index) {\r\n                    progress[i].innerHTML = currentVal;\r\n                }\r\n            });\r\n        });\r\n    }\r\n    setInputRangeValue();\r\n\r\n\r\n\r\n\r\n    ////HOME, PORTFOLIO\r\n\r\n    function relocateProjectItems() {\r\n        let query = window.matchMedia('(max-width: 767.98px)');\r\n\r\n        if (query.matches) {\r\n            $('.projects__content').hide();\r\n\r\n            $('.projects__item').each(function (i, elem) {\r\n                let contentItem = $('.projects__content').eq(i);\r\n                $(elem).append(contentItem);\r\n            });\r\n\r\n            $('.projects__item').on('click', function (event) {\r\n                $(this).find('.projects__content').slideToggle('slow');\r\n            });\r\n\r\n        } else {\r\n            $(\".projects__content\").not(\":first\").hide();\r\n\r\n            $(\".projects__item\").click(function (event) {\r\n                $(\".projects__content\").hide().eq($(this).index()).fadeIn();\r\n            });\r\n        }\r\n    }\r\n    relocateProjectItems();\r\n\r\n    function relocateProjectItemsOnResize() {\r\n        let flag = 1;\r\n        $(window).on('resize', function () {\r\n            if (window.matchMedia('(max-width: 767.98px)').matches && flag == 1) {\r\n                $('.projects__content').hide();\r\n\r\n                $('.projects__item')\r\n                    .off('click') \r\n                    .each(function (i, elem) {\r\n                        let contentItem = $('.projects__content').eq(i);\r\n                        $(elem).append(contentItem); \r\n                    })\r\n                    .on('click', function (event) { //новый обработчик \r\n                        $(this).find('.projects__content').slideToggle('slow');\r\n                    });\r\n\r\n                flag = 2;\r\n            }\r\n\r\n            if (window.matchMedia('(min-width: 768px)').matches && flag == 2) {\r\n                $('.projects__content')\r\n                    .each(function (i, elem) {\r\n                        $('.projects__container').append(elem);\r\n                    })\r\n                    .show()\r\n                    .not(\":first\").hide();\r\n\r\n                $(\".projects__item\")\r\n                    .off('click') \r\n                    .click(function (event) { \r\n                        $(\".projects__content\").hide().eq($(this).index()).fadeIn();\r\n                    });\r\n\r\n                flag = 1;\r\n            }\r\n        });\r\n    }\r\n    relocateProjectItemsOnResize();\r\n\r\n\r\n    function getMoreContent(){\r\n        let counter = 0;\r\n        let next = 5;\r\n        let random = [80, 150, 120];\r\n        function getRandomInt(min,max) {\r\n            return Math.floor(Math.random() * (max - min + 1)) + min;\r\n        }\r\n    \r\n    $('.load-more-btn').on('click', function () {\r\n        let index = $('.load-more-btn').index($(this));\r\n        let parentGrid = $('.projects-grid').eq(index);\r\n\r\n        $('.load-more-btn').html('Loading...');\r\n    \r\n        $.ajax({\r\n                type: \"GET\",\r\n                url: \"https://jsonplaceholder.typicode.com/photos\",\r\n                dataType: \"json\"\r\n            })\r\n            .done(function(result){\r\n                $('.load-more-btn').html('Load more');\r\n                for (let i = counter; i < next; i++) {\r\n                    $('<a>', {\r\n                        href: 'portfolio-details.html',\r\n                        title: 'project',\r\n                        class: 'projects-grid__item link fadeIn',\r\n                        html: `<div class=\"projects-grid__item-layer\"></div><img class=\"img\" src=\"${result[i].url}\">`,\r\n                    }).css('padding-top', random[getRandomInt(0, random.length - 1)] + '%').appendTo(parentGrid);\r\n                }\r\n    \r\n                counter = counter + 5;\r\n                next = next + 5;\r\n            })\r\n            .fail(function(err){\r\n                $('.load-more-btn').html('Load more');\r\n                alert(`Can not get ${this.url}`);\r\n            });\r\n\r\n            return false;\r\n    });\r\n    }\r\n    getMoreContent();\r\n\r\n\r\n\r\n    ////PORTFOLIO-DETAILS\r\n    $('.project-slider').slick({\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1,\r\n        dots: false,\r\n        fade: true,\r\n        infinite: true,\r\n        speed: 500,\r\n        autoplay: true,\r\n        preletrow: $('.project-btns__item--prev'),\r\n        nextArrow: $('.project-btns__item--next'),\r\n        asNavFor: '.project-slider-thumb, .project-details-slider'\r\n    });\r\n    \r\n        $('.project-slider-thumb').slick({\r\n        slidesToShow: 4,\r\n        slidesToScroll: 1,\r\n        asNavFor: '.project-slider, .project-details-slider',\r\n        dots: false,\r\n        fade: false,\r\n        autoplay: true,\r\n        preletrow: $('.project-btns__item--prev'),\r\n        nextArrow: $('.project-btns__item--next'),\r\n    });\r\n    \r\n        $('.project-details-slider').slick({\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1,\r\n        adaptiveHeight: true,\r\n        dots: false,\r\n        fade: true,\r\n        infinite: true,\r\n        speed: 500,\r\n        autoplay: true,\r\n        preletrow: $('.project-btns__item--prev'),\r\n        nextArrow: $('.project-btns__item--next'),\r\n        asNavFor: '.project-slider-thumb, .project-slider'\r\n    });\r\n\r\n    //// BLOG\r\n    function videoInit() {\r\n        const videoEl = document.querySelector('.blog__video'),\r\n          playBtn = document.querySelector('.blog__img-play');\r\n    \r\n        playBtn.addEventListener('click', function () {\r\n          if (videoEl.paused) {\r\n            videoEl.play();\r\n            playBtn.style.display = 'none';\r\n            videoEl.setAttribute('controls', 'controls');\r\n          } else {\r\n            videoEl.pause();\r\n            playBtn.style.display = 'block';\r\n          }\r\n        }, false);\r\n    \r\n        videoEl.addEventListener('play', function () {\r\n          playBtn.style.display = 'none';\r\n        }, false);\r\n    \r\n        videoEl.addEventListener('pause', function () {\r\n          playBtn.style.display = 'block';\r\n        }, false);\r\n    \r\n        videoEl.addEventListener('ended', function () {\r\n          videoEl.load();\r\n          videoEl.removeAttribute('controls');\r\n        }, false);\r\n      }\r\n      videoInit();\r\n    \r\n      function sidebarSlide() {\r\n        $('.sidebar__headline').on('click', function () {\r\n          let head = $('.sidebar__headline');\r\n          $('.sidebar__block-wrap').eq(head.index($(this))).slideToggle('slow');\r\n        });\r\n      }\r\n      sidebarSlide();\r\n    \r\n    \r\n      function bgWebpCheck() {\r\n        let query = \"(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi), (min-resolution: 2dppx)\";\r\n    \r\n        Modernizr.on('webp', function () {\r\n          if (matchMedia(query).matches) {\r\n            // do high-dpi stuff\r\n            let videoPath = $('.blog__video').attr('data-poster').replace(/1x/, '2x').replace(/@[12]x/, '$&/webp').replace(/png|jpg/, 'webp');\r\n            $('.blog__video').attr('data-poster', videoPath);\r\n    \r\n            $('.sidebar__block-post').each(function (i, elem) {\r\n              let newPath = $(this).attr('data-bg').replace(/1x/, '2x').replace(/@[12]x/, '$&/webp').replace(/png|jpg/, 'webp');\r\n              $(this).attr('data-bg', newPath);\r\n            });\r\n    \r\n          } else {\r\n            // do non high-dpi stuff\r\n            let videoPath = $('.blog__video').attr('data-poster').replace(/@[12]x/, '$&/webp').replace(/png|jpg/, 'webp');\r\n            $('.blog__video').attr('data-poster', videoPath);\r\n    \r\n            $('.sidebar__block-post').each(function (i, elem) {\r\n              let newPath = $(this).attr('data-bg').replace(/@[12]x/, '$&/webp').replace(/png|jpg/, 'webp');\r\n              $(this).attr('data-bg', newPath);\r\n            });\r\n          }\r\n        });\r\n    \r\n      }\r\n      bgWebpCheck();\r\n    \r\n      $('.blog__video').parent().css('padding-top', '57%');\r\n    \r\n    \r\n      function sidebarTabs() {\r\n        $('.blog').not(':first').hide();\r\n    \r\n        $('.sidebar__list-link').on('click', function (event) {\r\n          event.preventDefault();\r\n          let currentIndex = $('.sidebar__list-link').index($(this));\r\n    \r\n          $('.blog').hide().eq(currentIndex).fadeIn('slow');\r\n          $('html, body').animate({\r\n            scrollTop: $('.blog').eq(currentIndex).offset().top\r\n          }, 500);\r\n          $('.sidebar__list-item').removeClass('active').eq(currentIndex).addClass('active');\r\n        });\r\n      }\r\n      sidebarTabs();\r\n    \r\n\r\n    // CONTACT, SINGLE-POST\r\n\r\n\r\n    $('form').on('submit', function(event){\r\n        let context = $(this);\r\n        \r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"mail.php\",\r\n            data: context.serialize()\r\n        }).done(function(){\r\n            $(context).find('.modal').addClass('active').css('display', 'flex').hide().fadeIn();\r\n            setTimeout(function(){\r\n                $(context).find('.modal').removeClass('active').fadeOut();\r\n                context.trigger('reset');\r\n            },3000);\r\n        });\r\n           \r\n        return false;\r\n    });\r\n    \r\n    \r\n    \r\n    // CONTACT\r\n\r\n    $(window).on('scroll', function(){\r\n        let th = $(this).scrollTop();\r\n        let mapWrap = $('.contact-map__wrap');\r\n\r\n        if (th > 20) { \r\n            mapWrap.append('<iframe class=\"contact-map\" src=\"https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d3026.5870734444266!2d-73.8038992!3d40.6610319!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c2671aa27f068f%3A0x445d1a3a7a3329cf!2sJfk%20Training%20Center!5e0!3m2!1sen!2sru!4v1582342248500!5m2!1sen!2sru\" width=\"100%\" height=\"365px\" frameborder=\"0\" style=\"border:0;\" allowfullscreen=\"\"></iframe>');\r\n            $(this).off('scroll');\r\n        }\r\n    });\r\n\r\n});"]}