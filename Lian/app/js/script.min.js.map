{"version":3,"sources":["script.js"],"names":["$","svg4everybody","objectFitImages","not","css","elements_selector","cancelBtn","cloneLogo","flag","range","progress","counter","alert","random","videoPath","playBtn","LazyLoad","document","fadeIn","toggleClass","on","prepend","eq","clone","addClass","window","matchMedia","matches","find","children","is","filter","remove","after","fadeOut","fade","infinite","removeClass","val","speed","settings","slick","arrows","autoplay","prevArrow","setInputRangeValue","each","style","i","elem","left","this","query","index","currentVal","hide","contentItem","append","innerHTML","relocateProjectItemsOnResize","event","slideToggle","off","getMoreContent","getRandomInt","min","max","parentGrid","show","next","class","slidesToScroll","type","url","dataType","html","done","result","href","title","concat","length","Math","floor","appendTo","err","adaptiveHeight","querySelector","addEventListener","dots","videoEl","pause","asNavFor","slidesToShow","removeAttribute","nextArrow","videoInit","sidebarSlide","bgWebpCheck","attr","newPath","paused","play","display","setAttribute","sidebarTabs","load","head","context","replace","setTimeout","scrollTop","mapWrap","parent","preventDefault","currentIndex","animate","offset","top","ajax","data","serialize","trigger","th"],"mappings":"aAAAA,GAAE,WAIEC,gBACAC,kBACEF,EAAA,OAAOG,IAAI,gBAAgBC,IAAI,cAAe,uBAG5CC,IAmBMC,EACLC,EAJGC,EAkEJC,EAWHC,EA4GaC,EACFC,EAxBRC,EAuHQC,EACFC,EA1Sa,IAAAC,SAAA,CADvBX,kBAAA,UASEY,EAAAA,oBAAsBC,OAAA,KAAA,WAClBlB,EAAA,cAAQmB,QAAY,QAI1BnB,EAAAiB,UAAAG,GAAgB,QAAA,2BAAA,WACRd,EAAAA,QAASa,YAAK,uBAKZb,EAAce,EAAAA,gGACnBd,EAAAP,EAAA,UAAAsB,GAAA,GAAAC,QAAAC,SAAA,QAJGhB,EAAO,EAOHiB,OAAOC,WAAW,yBAAyBC,SACvC3B,EAAE,cAACqB,QAAkBO,EAAKrB,GAFtCP,EAAEyB,QAAQL,GAAG,UAAS,WAKdK,OAAAC,WAAA,yBAAAC,SAAA,IAAAnB,IACHR,EAAA,kBAAA4B,KAAA,cAAAC,WAAAP,GAAA,GAAAQ,GAAA,mBAHO9B,EAAE,cAAcqB,QAAQf,EAAUC,GAMrCC,EAAA,GATTiB,OAAAC,WAAA,sBAAAC,SAAA,IAAAnB,IAaHR,EAAA,kBAAA4B,KAAA,cAAAC,WAAAE,OAAA,kBAAAC,SAHWxB,EAAO,MAcjBR,EAAA,iBAAAiC,MAAwBb,yJAEtBpB,EAAE,eAAAoB,GAAA,SAAwBc,WAI9BlC,EAAA,iBAAAwB,SAAA,SATIxB,EAAE,wBAAwBkB,OAAO,WAajCiB,EAAAA,wBAFef,GAAA,SAAA,WAGfgB,EAAAA,iBAHeC,YAAA,SAAAC,IAAA,IAIfC,EAAK,wBAJUL,QAAA,WAUXM,EAAAA,WAAUC,MAAA,CACNC,MAAM,EADAP,MAAA,EAFFC,UAAA,EAUhBG,MAAA,IAbII,UAAU,EAedC,UAASC,yJACDpC,UAAU,4JACVC,WAAY,CAAC,CAEXoC,WAAK,OACPpC,SAAYqC,CADhBL,QAAA,OAIAjC,EAAAT,EAAA,gBAWHU,EAAAV,EAAA,0BACD6C,EAAAA,MAAAA,SAKAG,EAAAC,GApBQvC,EAASsC,GAAGD,MAAMG,KAAOlD,EAAEmD,MAAMb,MAAQ,OAG7CtC,EAAE,gBAAgBoB,GAAG,gBAAgB,WAsBjCgC,IAAMzB,EAASlB,EAAA4C,MAAArD,EAAAmD,OACbG,EAAFtD,EAAwBuD,MAAxBjB,MAAA,IAGQkB,EAAAA,GAAgBT,MAAAG,KAAAlD,EAAAmD,MAAFb,MAAlB,IACEW,EAAMQ,MAAOD,SAAfR,EAAAC,GAFJD,GAAAK,IAKE3C,EAAFsC,GAAwBU,UAASJ,SAchCK,OAAAA,WAAAA,yBAEQhC,SACLF,EAAAA,sBAAkB8B,OAGhBvD,EAAA,mBACO8C,MAAA,SAASE,EAAAC,GACR,IAAAO,EAAmBxD,EAAA,sBAAAsB,GAAA0B,GACjBQ,EAAAA,GAAAA,OAAgBA,MAGQxD,EAAA,mBAAAoB,GAAA,SAAA,SAAAwC,GAC3B5D,EAAO4B,MAAKA,KAAA,sBAAsBiC,YAAnC,aAtBZ7D,EAAE,sBAAsBG,IAAI,UAAUoD,OA6BhCvD,EAAA,mBACG8C,OAAK,SAAAc,GACA5D,EAAA,sBAAwByD,OAA1BnC,GAAAtB,EAAAmD,MAAAE,SAAAnC,aASH,WAELV,IAAIA,EAAJ,EACHR,EAAAyB,QAAAL,GAAA,UAAA,WAhCLK,OAAAC,WAAA,yBAAAC,SAAA,GAAAnB,IAkCHR,EAAA,sBAAAuD,OACDI,EAAAA,mBA9BiBG,IAAI,SAiCZC,MAAT,SAAyBf,EAAAC,GACrB,IAAAO,EAAAxD,EAAA,sBAAAsB,GAAA0B,GACAhD,EAAAiD,GAAAQ,OAAAD,MA9BapC,GAAG,SAAS,SAAUwC,GAgC1BI,EAAaC,MAAIC,KAAK,sBAAAL,YAAA,WA5BvBrD,EAAO,GAkCX2D,OAAanE,WAAE,sBAAnB2B,SAAA,GAAAnB,IAEOR,EAAA,sBAAA8C,MAAA,SAAAE,EAAAC,GAEMjD,EAAA,wBAAAyD,OAAAR,MAGCmB,OACJjE,IAAA,UAAuBoD,OAGvBvD,EAAA,mBAjCG8D,IAAI,SAkCInD,OAAAA,SAAa0D,GACbrE,EAAA,sBAAAuD,OAAAjC,GAAAtB,EAAAmD,MAAAE,SAAAnC,YAGLoD,EAAO,MA7B3BX,GAsCchD,EAAA,EACFC,EAAK,EAxBbC,EAAA,CAAA,GAAA,IAAA,KA8BJkD,EAAAA,kBAIA3C,GAAA,SAAA,WArCI,IAAIiC,EAAQrD,EAAE,kBAAkBqD,MAAMrD,EAAEmD,OAsC1CgB,EAAmB1B,EAAAA,kBAAMnB,GAAA+B,GA+BhB,OA7BPkB,EAAAA,KAAAA,CAFuBC,KAAA,MAAAC,IAAA,8CAKbC,SALa,SAOfhE,UAPe,WAQXV,EAAC,kBAAA2E,KAAA,iBAELC,MAAE,SAAAC,GAVd7E,EAAA,kBAAA2E,KAAA,aAaM,IAAA,IAAA3B,EAAyBP,EAAMO,EAAAqB,EAAArB,IAAAhD,EAAA,MAAA,CAAA8E,KAAA,yBAGvBC,MAAA,UAHuBT,MAAA,kCAAAK,KAAA,sEAAAK,OAAAH,EAAA7B,GAAAyB,IAAA,QAAArE,IAAA,cAAAS,GArB7BoD,EAqB6B,EArB7BC,EAqB6BrD,EAAAoE,OAAA,EApDrCC,KAAAC,MAAAD,KAAArE,UAAAqD,EAAAD,EAAA,IAAAA,IAoDqC,KAAAmB,SAAAjB,GArB7B,IAAAF,EAAAC,EAqBJvD,GAAA,EAWE0D,GAAF,KAEAE,MAAc,SAFqBc,GAGnCC,EAAc,kBAHqBX,KAAA,aAAA/D,MAAA,eAAAoE,OAAA7B,KAAAsB,UAAA,KAgBnCzE,EAAA,mBAAgBiB,MAASsE,CACvBxE,aAAUE,EAEZF,eAAQyE,EACNC,MAAIC,EACFA,MAAAA,EACA3E,UAAQgC,EACR2C,MAAO,IAHT/C,UAIO,EACL+C,UAAQC,EAAR,6BACA5E,UAAQgC,EAAR,6BACD6C,SAAA,mDAID7E,EAAAA,yBAAwB0B,MAAxB,CACCoD,aAFH,EAIAH,eAAQF,EACNzE,SAAQgC,2CACP0C,MAFH,EAIAC,MAAQF,EACNE,UAAA,EACAA,UAAQI,EAAAA,6BACPC,UAHH/F,EAAA,+BAKFgG,EAAAA,2BAASvD,MAAA,CA1CPoD,aAAc,EA4ChBtB,eAAA,EACIe,gBAAA,EACAG,MAAQ,EACNtD,MAAA,EAFJC,UAAA,EAIDG,MAAA,IA1CCI,UAAU,EA2CZsD,UAAYjG,EAAA,6BAzCV+F,UAAW/F,EAAE,6BA4Cf4F,SAASM,2CAMCpF,EAAYd,SAAEuF,cAAqB,iBACrCxE,EAAAE,SAAgBkF,cAAK,oBAGjBC,iBAAkBD,SAAK,WACzBT,EAAFW,QAFFX,EAAAY,OALFvF,EAUOgC,MAAAwD,QAAA,OACLb,EAAAc,aAAA,WAAA,cA5CAd,EAAQC,QA8CN5E,EAAAgC,MAAgBoD,QAAK,YAGrB,GAEDT,EAHDF,iBAAA,QAAA,WAIDzE,EAAAgC,MAAAwD,QAAA,UApBH,GAvBAb,EAAQF,iBAAiB,SAAS,WA+CpCU,EAAWnD,MAAAwD,QAAA,WAET,GAGFb,EAASe,iBAAc,SAAA,WACnBf,EAAFgB,OAEEhB,EAAAI,gBAA0B,eACrB,GAIL9F,EAEG,sBAFHoB,GAAA,SAAA,WAGE,IAAAuF,EAAA3G,EAAA,sBARJA,EAAA,wBAAAsB,GAAAqF,EAAAtD,MAAArD,EAAAmD,QAAAU,YAAA,WAsBIY,UAAKrD,GAFF,QAAA,WAGC,GAAEwF,WAHH,uHAGGjF,QAAA,CAEJiF,IAAF9F,EAAgBd,EAAhB,gBAAmCmG,KAAU/F,eAAeyG,QAAQtD,KAApE,MAA2ErC,QAA3E,SAAA,WAAA2F,QAAA,UAAA,QACAC,EAAAA,gBAAqBX,KAAA,cAAArF,GAEjB8F,EAAAA,wBAAA9D,MAAA,SAAAE,EAAAC,GAFJ,IAAAmD,EAAApG,EAAAmD,MAAAgD,KAAA,WAAAU,QAAA,KAAA,MAAAA,QAAA,SAAA,WAAAA,QAAA,UAAA,QANJ7G,EAAAmD,MAAAgD,KAAA,UAAAC,UAzCS,CA6DH,IAAKtF,EAAMiG,EAAR,gBAATZ,KAAA,eAAAU,QAAA,SAAA,WAAAA,QAAA,UAAA,QACIG,EAAAA,gBAAYb,KAAA,cAAhBrF,GAEMd,EAAG,wBAAI8C,MAAA,SAAAE,EAAAC,GACDQ,IAAAA,EAAOzD,EAAAmD,MAAAgD,KAAA,WAAAU,QAAA,SAAA,WAAAA,QAAA,UAAA,QACP/C,EAAAA,MAAIqC,KAAZ,UAAAC,UAnDNpG,EAAE,gBAAgBiH,SAAS7G,IAAI,cAAe,OAI5CJ,EAAE,SAASG,IAAI,UAAUoD,OAEzBvD,EAAE,uBAAuBoB,GAAG,SAAS,SAAUwC,GAC7CA,EAAMsD,iBACN,IAAIC,EAAenH,EAAE,uBAAuBqD,MAAMrD,EAAEmD,OAEpDnD,EAAE,SAASuD,OAAOjC,GAAG6F,GAAcjG,OAAO,QAC1ClB,EAAE,cAAcoH,QAAQ,CACtBL,UAAW/G,EAAE,SAASsB,GAAG6F,GAAcE,SAASC,KAC/C,KACHtH,EAAE,uBAAuBqC,YAAY,UAAUf,GAAG6F,GAAc3F,SAAS,aAS/ExB,EAAE,QAAQoB,GAAG,UAAU,SAASwC,GAC5B,IAAIgD,EAAU5G,EAAEmD,MAchB,OAZAnD,EAAEuH,KAAK,CACH/C,KAAM,OACNC,IAAK,WACL+C,KAAMZ,EAAQa,cACf7C,MAAK,WACJ5E,EAAE4G,GAAShF,KAAK,UAAUJ,SAAS,UAAUpB,IAAI,UAAW,QAAQmD,OAAOrC,SAC3E4F,YAAW,WACP9G,EAAE4G,GAAShF,KAAK,UAAUS,YAAY,UAAUH,UAChD0E,EAAQc,QAAQ,WAClB,SAGC,KAOX1H,EAAEyB,QAAQL,GAAG,UAAU,WACnB,IAAIuG,EAAK3H,EAAEmD,MAAM4D,YACbC,EAAUhH,EAAE,sBAEZ2H,EAAK,KACLX,EAAQvD,OAAO,uXACfzD,EAAEmD,MAAMW,IAAI","file":"script.min.js","sourcesContent":["$(function () {\r\n\r\n    ////COMMON\r\n\r\n    svg4everybody();\r\n    objectFitImages();\r\n    $('img').not('[src$=\"svg\"]').css('font-family', \"'object-fit: cover'\");\r\n\r\n    var lazyLoadInstance = new LazyLoad({\r\n        elements_selector: \".lazy\"\r\n    });\r\n\r\n\r\n    $('.preloader__wrap').fadeIn(2000, function(){\r\n        $('.preloader').fadeOut(2000);\r\n    });\r\n\r\n    $(document).on('click', '.burger, .pushy__cancel', function () {\r\n        $('body').toggleClass('pushy-open-right');\r\n    });\r\n\r\n\r\n    function menu() {\r\n        var cancelBtn = $('<svg class=\"pushy__cancel\"><use xlink:href=\"images/svg/sprite/sprite.svg#cancel\"></use><svg>');\r\n        var cloneLogo = $('a.logo').eq(0).clone().addClass('copy');\r\n        var flag = 1;\r\n    \r\n        if (window.matchMedia('(max-width: 991.98px)').matches) {\r\n            $('.nav__list').prepend(cancelBtn,cloneLogo);\r\n        } \r\n    \r\n        $(window).on('resize',function(){\r\n            if (window.matchMedia('(max-width: 991.98px)').matches && flag === 1) { \r\n                if (!$('.pushy-content').find('.nav__list').children().eq(0).is('.pushy__cancel')) {\r\n                    $('.nav__list').prepend(cancelBtn,cloneLogo);\r\n                }\r\n                flag = 2;\r\n            }\r\n    \r\n            if (window.matchMedia('(min-width: 992px)').matches && flag === 2) {            \r\n               $('.pushy-content').find('.nav__list').children().filter(':eq(0), :eq(1)').remove();\r\n                flag = 1;\r\n            }\r\n        });\r\n    }\r\n    menu();\r\n\r\n\r\n    $('.search-input').after('<button class=\"search-input-cancel\"><svg class=\"search-input-cancel__icon\"><use xlink:href=\"images/svg/sprite/sprite.svg#cancel\"></use><svg></button>');\r\n\r\n    $('.search-btn').on('click', function(){\r\n        $('.search-input').addClass('slide');\r\n        $('.search-input-cancel').fadeIn('slow');\r\n    });\r\n    \r\n    $('.search-input-cancel').on('click', function(){\r\n        $('.search-input').removeClass('slide').val('');\r\n        $('.search-input-cancel').fadeOut('fast');\r\n    });\r\n\r\n\r\n    //// HOME\r\n\r\n    $('.slider').slick({\r\n        dots: true,\r\n        fade: true,\r\n        infinite: true,\r\n        speed: 500,\r\n        autoplay: true,\r\n        prevArrow: '<svg class=\"slider__arrow  slider__arrow--left\"><use class=\"slider__arrow-icon-left\" xlink:href=\"images/svg/sprite/sprite.svg#arrow-left\"></use></svg>',\r\n        nextArrow: '<svg class=\"slider__arrow  slider__arrow--right\"><use class=\"slider__arrow-icon-right\" xlink:href=\"images/svg/sprite/sprite.svg#arrow-right\"></use></svg>',\r\n        responsive: [{\r\n            breakpoint: 479.98,\r\n            settings: {\r\n                arrows: false\r\n            }\r\n        }]\r\n    });\r\n\r\n\r\n\r\n    //// ABOUT\r\n\r\n    function setInputRangeValue() {\r\n        var range = $('.input-range');\r\n        var progress = $('.about__input-progress');\r\n    \r\n        range.each(function(i,elem){\r\n            progress[i].style.left = $(this).val() + '%';\r\n        });\r\n    \r\n        $('.input-range').on('input change', function () {\r\n            var index = range.index($(this));\r\n            var currentVal = $(this).val() + '%';\r\n    \r\n            progress[index].style.left = $(this).val() + '%';\r\n            progress.each(function (i, elem) {\r\n                if (i == index) {\r\n                    progress[i].innerHTML = currentVal;\r\n                }\r\n            });\r\n        });\r\n    }\r\n    setInputRangeValue();\r\n\r\n\r\n\r\n\r\n    ////HOME, PORTFOLIO\r\n\r\n    function relocateProjectItems() {\r\n        var query = window.matchMedia('(max-width: 767.98px)');\r\n\r\n        if (query.matches) {\r\n            $('.projects__content').hide();\r\n\r\n            $('.projects__item').each(function (i, elem) {\r\n                var contentItem = $('.projects__content').eq(i);\r\n                $(elem).append(contentItem);\r\n            });\r\n\r\n            $('.projects__item').on('click', function (event) {\r\n                $(this).find('.projects__content').slideToggle('slow');\r\n            });\r\n\r\n        } else {\r\n            $(\".projects__content\").not(\":first\").hide();\r\n\r\n            $(\".projects__item\").click(function (event) {\r\n                $(\".projects__content\").hide().eq($(this).index()).fadeIn();\r\n            });\r\n        }\r\n    }\r\n    relocateProjectItems();\r\n\r\n    function relocateProjectItemsOnResize() {\r\n        let flag = 1;\r\n        $(window).on('resize', function () {\r\n            if (window.matchMedia('(max-width: 767.98px)').matches && flag == 1) {\r\n                $('.projects__content').hide();\r\n\r\n                $('.projects__item')\r\n                    .off('click') //снимаем предыдущий обработчик\r\n                    .each(function (i, elem) {\r\n                        var contentItem = $('.projects__content').eq(i);\r\n                        $(elem).append(contentItem); //если индекс proj item и proj content равны то вкладываем в item в конец соответствующий content \r\n                    })\r\n                    .on('click', function (event) { //новый обработчик \r\n                        $(this).find('.projects__content').slideToggle('slow');\r\n                    });\r\n\r\n                flag = 2;\r\n            }\r\n\r\n            if (window.matchMedia('(min-width: 768px)').matches && flag == 2) {\r\n                $('.projects__content')\r\n                    .each(function (i, elem) {\r\n                        $('.projects__container').append(elem);\r\n                    })\r\n                    .show()\r\n                    .not(\":first\").hide();\r\n\r\n                $(\".projects__item\")\r\n                    .off('click') //снимаем предыдущий обработчик\r\n                    .click(function (event) { //новый обработчик\r\n                        $(\".projects__content\").hide().eq($(this).index()).fadeIn();\r\n                    });\r\n\r\n                flag = 1;\r\n            }\r\n        });\r\n    }\r\n    relocateProjectItemsOnResize();\r\n\r\n\r\n    function getMoreContent(){\r\n        let counter = 0;\r\n        let next = 5;\r\n        let random = [80, 150, 120];\r\n        function getRandomInt(min,max) {\r\n            return Math.floor(Math.random() * (max - min + 1)) + min;\r\n        }\r\n    \r\n    $('.load-more-btn').on('click', function () {\r\n        let index = $('.load-more-btn').index($(this));\r\n        let parentGrid = $('.projects-grid').eq(index);\r\n    \r\n        $.ajax({\r\n                type: \"GET\",\r\n                url: \"https://jsonplaceholder.typicode.com/photos\",\r\n                dataType: \"json\"\r\n            })\r\n            .progress(function(){\r\n                $('.load-more-btn').html('Loading...');\r\n            })\r\n            .done(function(result){\r\n                $('.load-more-btn').html('Load more');\r\n                for (let i = counter; i < next; i++) {\r\n                    $('<a>', {\r\n                        href: 'portfolio-details.html',\r\n                        title: 'project',\r\n                        class: 'projects-grid__item link fadeIn',\r\n                        html: `<div class=\"projects-grid__item-layer\"></div><img class=\"img\" src=\"${result[i].url}\">`,\r\n                    }).css('padding-top', random[getRandomInt(0, random.length - 1)] + '%').appendTo(parentGrid);\r\n                }\r\n    \r\n                counter = counter + 5;\r\n                next = next + 5;\r\n            })\r\n            .fail(function(err){\r\n                $('.load-more-btn').html('Load more');\r\n                alert(`Can not get ${this.url}`);\r\n            });\r\n\r\n            return false;\r\n    });\r\n    }\r\n    getMoreContent();\r\n\r\n\r\n\r\n    ////PORTFOLIO-DETAILS\r\n    $('.project-slider').slick({\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1,\r\n        dots: false,\r\n        fade: true,\r\n        infinite: true,\r\n        speed: 500,\r\n        autoplay: true,\r\n        prevArrow: $('.project-btns__item--prev'),\r\n        nextArrow: $('.project-btns__item--next'),\r\n        asNavFor: '.project-slider-thumb, .project-details-slider'\r\n    });\r\n    \r\n        $('.project-slider-thumb').slick({\r\n        slidesToShow: 4,\r\n        slidesToScroll: 1,\r\n        asNavFor: '.project-slider, .project-details-slider',\r\n        dots: false,\r\n        fade: false,\r\n        autoplay: true,\r\n        prevArrow: $('.project-btns__item--prev'),\r\n        nextArrow: $('.project-btns__item--next'),\r\n    });\r\n    \r\n        $('.project-details-slider').slick({\r\n        slidesToShow: 1,\r\n        slidesToScroll: 1,\r\n        adaptiveHeight: true,\r\n        dots: false,\r\n        fade: true,\r\n        infinite: true,\r\n        speed: 500,\r\n        autoplay: true,\r\n        prevArrow: $('.project-btns__item--prev'),\r\n        nextArrow: $('.project-btns__item--next'),\r\n        asNavFor: '.project-slider-thumb, .project-slider'\r\n    });\r\n\r\n    //// BLOG\r\n    function videoInit() {\r\n        const videoEl = document.querySelector('.blog__video'),\r\n          playBtn = document.querySelector('.blog__img-play');\r\n    \r\n        playBtn.addEventListener('click', function () {\r\n          if (videoEl.paused) {\r\n            videoEl.play();\r\n            playBtn.style.display = 'none';\r\n            videoEl.setAttribute('controls', 'controls');\r\n          } else {\r\n            videoEl.pause();\r\n            playBtn.style.display = 'block';\r\n          }\r\n        }, false);\r\n    \r\n        videoEl.addEventListener('play', function () {\r\n          playBtn.style.display = 'none';\r\n        }, false);\r\n    \r\n        videoEl.addEventListener('pause', function () {\r\n          playBtn.style.display = 'block';\r\n        }, false);\r\n    \r\n        videoEl.addEventListener('ended', function () {\r\n          videoEl.load();\r\n          videoEl.removeAttribute('controls');\r\n        }, false);\r\n      }\r\n      videoInit();\r\n    \r\n      function sidebarSlide() {\r\n        $('.sidebar__headline').on('click', function () {\r\n          var head = $('.sidebar__headline');\r\n          $('.sidebar__block-wrap').eq(head.index($(this))).slideToggle('slow');\r\n        });\r\n      }\r\n      sidebarSlide();\r\n    \r\n    \r\n      function bgWebpCheck() {\r\n        var query = \"(-webkit-min-device-pixel-ratio: 2), (min-device-pixel-ratio: 2), (min-resolution: 192dpi), (min-resolution: 2dppx)\";\r\n    \r\n        Modernizr.on('webp', function () {\r\n          if (matchMedia(query).matches) {\r\n            // do high-dpi stuff\r\n            let videoPath = $('.blog__video').attr('data-poster').replace(/1x/, '2x').replace(/@[12]x/, '$&/webp').replace(/png|jpg/, 'webp');\r\n            $('.blog__video').attr('data-poster', videoPath);\r\n    \r\n            $('.sidebar__block-post').each(function (i, elem) {\r\n              var newPath = $(this).attr('data-bg').replace(/1x/, '2x').replace(/@[12]x/, '$&/webp').replace(/png|jpg/, 'webp');\r\n              $(this).attr('data-bg', newPath);\r\n            });\r\n    \r\n          } else {\r\n            // do non high-dpi stuff\r\n            let videoPath = $('.blog__video').attr('data-poster').replace(/@[12]x/, '$&/webp').replace(/png|jpg/, 'webp');\r\n            $('.blog__video').attr('data-poster', videoPath);\r\n    \r\n            $('.sidebar__block-post').each(function (i, elem) {\r\n              var newPath = $(this).attr('data-bg').replace(/@[12]x/, '$&/webp').replace(/png|jpg/, 'webp');\r\n              $(this).attr('data-bg', newPath);\r\n            });\r\n          }\r\n        });\r\n    \r\n      }\r\n      bgWebpCheck();\r\n    \r\n      $('.blog__video').parent().css('padding-top', '57%');\r\n    \r\n    \r\n      function sidebarTabs() {\r\n        $('.blog').not(':first').hide();\r\n    \r\n        $('.sidebar__list-link').on('click', function (event) {\r\n          event.preventDefault();\r\n          var currentIndex = $('.sidebar__list-link').index($(this));\r\n    \r\n          $('.blog').hide().eq(currentIndex).fadeIn('slow');\r\n          $('html, body').animate({\r\n            scrollTop: $('.blog').eq(currentIndex).offset().top\r\n          }, 500);\r\n          $('.sidebar__list-item').removeClass('active').eq(currentIndex).addClass('active');\r\n        });\r\n      }\r\n      sidebarTabs();\r\n    \r\n\r\n    // CONTACT, SINGLE-POST\r\n\r\n\r\n    $('form').on('submit', function(event){\r\n        var context = $(this);\r\n        \r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"mail.php\",\r\n            data: context.serialize()\r\n        }).done(function(){\r\n            $(context).find('.modal').addClass('active').css('display', 'flex').hide().fadeIn();\r\n            setTimeout(function(){\r\n                $(context).find('.modal').removeClass('active').fadeOut();\r\n                context.trigger('reset');\r\n            },3000);\r\n        });\r\n           \r\n        return false;\r\n    });\r\n    \r\n    \r\n    \r\n    // CONTACT\r\n\r\n    $(window).on('scroll', function(){\r\n        var th = $(this).scrollTop();\r\n        var mapWrap = $('.contact-map__wrap');\r\n\r\n        if (th > 20) { \r\n            mapWrap.append('<iframe class=\"contact-map\" src=\"https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d3026.5870734444266!2d-73.8038992!3d40.6610319!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c2671aa27f068f%3A0x445d1a3a7a3329cf!2sJfk%20Training%20Center!5e0!3m2!1sen!2sru!4v1582342248500!5m2!1sen!2sru\" width=\"100%\" height=\"365px\" frameborder=\"0\" style=\"border:0;\" allowfullscreen=\"\"></iframe>');\r\n            $(this).off('scroll');\r\n        }\r\n    });\r\n\r\n});"]}